doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    link(rel='stylesheet', href='https://fonts.googleapis.com/icon?family=Material+Icons')
    link(href='https://fonts.googleapis.com/css?family=Alegreya+Sans+SC|Open+Sans+Condensed:300&subset=latin-ext', rel='stylesheet')
    
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css')

    link(rel='stylesheet', href='styles.css')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js')

    script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js')

    script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js')


  body
    .container-fluid
      button.mo-button.daybtn(data-toggle="collapse", data-target="#mo-food")
        p Monday
        i.material-icons expand_more

      .container-fluid.collapse.show#mo-food

        - 
          var foods = [
            ["Tomato soup", 30, "soup of tomatoes"],
            ["Lemon chicken", "120"],
            ["Vegetable korma", 100],
            ["Vegetable mix", 90],
            ["Tikka", 200, "gud fud"]
          ]

        each food in foods

          .row
            .container-fluid.foodTile
              .row
                .col-2.butt-container.btn-group-vertical
                  button.btn.add-food
                    i.material-icons  add

                  .amountBox 0

                  button.btn.remove-food
                    i.material-icons  remove 
                .col-7.food-info
                  p.foodname= food[0] 
                  p.foodprice= food[1] + " Kč"
                  p.fooddesc= food[2] 
                .col-3.img-container
                  img(src='')

  .buttContainer
    button.submit.bottomButtons#foodsubmit(href="order.html")
      | Order
    button.cancel.bottomButtons#foodreset(href='menu.html')
      i.material-icons  restore

script.
  var totalPrice = 0;
  var totalAmount = 0;
  var orderbtn = document.getElementById("foodsubmit");

  var food_amounts = document.querySelectorAll('.amountBox');
    food_amounts.forEach(function(amountElem) {
      var btnMore = amountElem.previousSibling;
      var btnLess = amountElem.nextSibling;
      
      btnMore.addEventListener("click", function() {
        var oldnum = amountElem.innerHTML;
        var newnum = parseInt(oldnum) + 1;
        amountElem.innerHTML = newnum;

        var price = getPrice(amountElem);
        totalPrice += price;
        totalAmount += 1;
        var item = (totalAmount == 1) ? "item" : "items";
        
        orderbtn.innerHTML = totalAmount + " " + item + " for " + totalPrice + " Kč";
      })
      
      btnLess.addEventListener("click", function() {
        var oldnum = amountElem.innerHTML;
        var newnum = parseInt(oldnum) - 1;
        amountElem.innerHTML = (newnum > 0) ? newnum : 0;
        console.log(newnum);
        var price = getPrice(amountElem);
        totalPrice -= price;
        totalAmount -= 1;

        var item = (totalAmount == 1) ? "item" : "items";

        if (totalAmount < 0 && totalPrice < 0) {
          orderbtn.parentNode.style.display = "hidden";
          console.log(orderbtn.parentNode);
        }
        else {
          orderbtn.innerHTML = totalAmount + " " + item + " for " + totalPrice + " Kč";
        }
    })
  })

  function getPrice(elem) {
      var parent = elem.parentNode;
      var foodinfo = parent.nextSibling;
      var price = foodinfo.getElementsByClassName("foodprice")[0].innerHTML;

      return parseInt(price);
  }
